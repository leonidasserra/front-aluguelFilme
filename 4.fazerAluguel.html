<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8" />
    <title>Confirmação</title>
</head>
<body>


    <!-- Sidebar -->
<div class="sidebar">
    <ul>
        <a href="3.telaInicial.html">Home</a>
        <br>
        <a href="5.pessoas.html">Ver Clientes</a>
        <br>
        <a href="2.cadastro.html">Novo Cliente</a>
        <br>
        <a href="6.novoFilme.html">Novo Filme</a>
        <br>
        <a href="javascript:history.back()">Voltar</a>
        <br>
        <a href="1.login.html" id="exit-btn">Sair</a>
    </ul>
</div>

    <!-- Formulário de Confirmação -->
    <form action="5.confirmarAluguel.html" method="get">    
        <div class="rent-title">    
            <h1>Confirmação do Empréstimo</h1>
        </div>  

        <div class="rent-main-content">
            <table>
                    <thead>
                        <tr>
                            <td>Código</td>
                            <td>Título</td>
                            <td>Gênero</td>
                            <td>Ano</td>
                            <td>Estoque</td>
                            <td>Adicionar</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>0</td>
                            <td><a href="3.1.detalhesFilme-Aluguel.html">Senhor dos Anéis: A Sociedade do Anel</a></td>
                            <td>Fantasia</td>
                            <td>2001</td>
                            <td>12</td>
                            <td><input type="checkbox" class="checkbox" ></input></td>
                        </tr>
                    </tbody>
                </table>

            <br><br>
            
            <div class="make-rent">
                <div class="section-signup-rent">
                    <label for="pessoa">Empréstimo para: </label>
                    <input type="text" id="pessoaAluguel" name="pessoaAluguel" required>
                </div>

                <br><br>

                <div class="div-rent-btn">
                    <button type="submit" class="rent-btn">Confirmar</button>
                </div>
            </div>    
        </div>
    </form>

    <!-- Janela de Confirmação -->
    <div class="overlay" id="overlay">
    <div class="confirm-box" id="confirmBox">
        <p>Você tem certeza?</p>
        <div class="inner-confirm-box">
            <button id="btnSim">Sim</button>
            <button id="btnNao">Não</button>
        </div>    
    </div>
    </div>
    <!-- Botão de Configurações -->
    <div>
        <br><br>
        <form action="configuracoes.html" method="get">
            <button type="submit" class="config-btn">Configurações</button>
        </form>
    </div>

</body>

<script>
    const btnConfirmar = document.querySelector('.rent-btn');
    const overlay = document.getElementById('overlay');
    const confirmBox = document.getElementById('confirmBox');
    const btnSim = document.getElementById('btnSim');
    const btnNao = document.getElementById('btnNao');
    const form = document.querySelector('form');

    btnConfirmar.addEventListener('click', function(event) {
        event.preventDefault(); // Impede o envio automático
        overlay.classList.add('active');
        confirmBox.classList.add('active');
    });

    btnSim.addEventListener('click', function() {
        form.submit(); // Agora envia o formulário
    });

    btnNao.addEventListener('click', function() {
        overlay.classList.remove('active');
        confirmBox.classList.remove('active');
    });

    // Seleciona todas as checkboxes da tabela
document.querySelectorAll('.checkbox').forEach(checkbox => {
    checkbox.addEventListener('change', function() {
        const row = this.closest('tr'); // pega a <tr> onde a checkbox está
        if (this.checked) {
            row.classList.add('selected-row'); // adiciona cor
        } else {
            row.classList.remove('selected-row'); // remove cor
        }
    });
});
</script>
</html>
