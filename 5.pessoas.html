<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8" />
    <title>Pessoas</title>
</head>

<body>
    
<div class="sidebar">
    <ul>
        <a href="3.telaInicial.html">Home</a>
        <br>
        <a href="5.pessoas.html">Ver Clientes</a>
        <br>
        <a href="2.cadastro.html">Novo Cliente</a>
        <br>
        <a href="6.novoFilme.html">Novo Filme</a>
        <br>
        <a href="javascript:history.back()">Voltar</a>
        <br>
        <a href="1.login.html" id="exit-btn">Sair</a>
    </ul>
</div>

    <!-- Conte√∫do Principal -->

        <div class="pessoa-content">
            <div class="top-page">
                <h1>Pessoas</h1>

                <div class="searchbar">
                    <input type="text" name="q" placeholder="Digite sua busca...">
                    <button type="button">üîç</button>
                </div>
            </div>

                <table>
                    <thead>
                        <tr>
                            <td>C√≥digo</td>
                            <td>Nome</td>
                            <td>Email</td>
                            <td>Telefone</td>
                            <!-- <td>A√ß√µes</td> -->
                        </tr>
                    </thead>
                    <tbody id="lista-pessoas">
                        <!-- <tr>
                            <td>0</td>
                            <td><a href="5.1.detalhesPessoa.html">Le√¥nidas Serra</a></td>
                            <td>leonidas.serra@example.com</td>
                            <td>(98)98750-0000</td> -->
                            <!-- <td><button type="button" href="5.1.detalhesPessoa.html" class="add-btn">Detalhes</button></td> -->
                        <!-- </tr> -->
                    </tbody>
                </table>
        </div>

        <!-- Pagina√ß√£o -->
        <nav class="pagination" aria-label="Navega√ß√£o de p√°ginas">
            <ul>
                <li><a href="?page=1" class="active">1</a></li>
                <li><a href="?page=2">2</a></li>
                <li><a href="?page=3">3</a></li>
                <li><a href="?page=2">Pr√≥ximo</a></li>
            </ul>
        </nav>

        <!-- Bot√£o Configura√ß√µes -->

<script>

window.onload = function () {
            fetch('http://localhost:8080/pessoa/listar')
                .then((response) => response.json())
                .then((data) => {
                    console.log(data);
                    
                    data.forEach((pessoa) => {
                        const linha = document.createElement("tr");
                        const celulaId = document.createElement("td");
                        celulaId.textContent = pessoa.id;
                        linha.appendChild(celulaId);

                        const celulaName = document.createElement("td");
                        const linkPessoaName = document.createElement("a");
                        linkPessoaName.textContent = pessoa.name;
                        linkPessoaName.href = `5.1.detalhesPessoa.html?id=${encodeURIComponent(pessoa.id)}`;
                        celulaName.appendChild(linkPessoaName);
      
                        linha.appendChild(celulaName);

                        const celulaEmail = document.createElement("td");
                        celulaEmail.textContent = pessoa.email;
                        linha.appendChild(celulaEmail);

                        const celulaTelefone = document.createElement("td");
                        celulaTelefone.textContent = pessoa.telefone;
                        linha.appendChild(celulaTelefone);


                        // const celulaNasc = document.createElement("td");
                        // celulaNasc.textContent = pessoa.nascimento;
                        // linha.appendChild(celulaNasc);

                        // const celulaCpf = document.createElement("td");
                        // celulaCpf.textContent = pessoa.cpf;
                        // linha.appendChild(celulaCpf);
                    


                        const dadosTabela=document.getElementById("lista-pessoas");
                        dadosTabela.appendChild(linha);

                });
            })
            .catch(error => console.error('Erro ao buscar filmes:', error));
        }



</script>
</body>
</html>
